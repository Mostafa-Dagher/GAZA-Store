<div class="container">
    <div class="row">
        <h2 class="text-center ">Categories</h2>
        <div class="col-md-12 ">
            <owl-carousel-o [options]="customOptions">
                <ng-container *ngFor="let category of CategoriesArr">
                    <ng-template carouselSlide>
                        <img [src]="category.image?.secure_url" class="w-100 cursor-pointer"
                            onerror="this.src='assets/error.svg';" height="200" alt=".."
                            (click)="SubCategoriesID(category._id)">
                        <div class="text-center"> {{category.name}}</div>
                    </ng-template>
                </ng-container>

            </owl-carousel-o>

        </div>
    </div>
</div>



<div class="container">
    <div class="row">
        <h2 class="text-center">SubCategory</h2>
        <div *ngFor="let SubCategory of SubCategoriesArr " class="col-md-3 ">
            <a [routerLink]="['/ProductBYSupcateigoryID',SubCategory._id]">


                <div class=" rounded px-2 py-4">

                    <div class="text-center">
                        <img [src]="SubCategory?.image?.secure_url" onerror="this.src='assets/error.svg';" class="w-75 "
                            height="150" alt="">
                    </div>
                    <div class="text-center"> {{SubCategory.name}}</div>
                </div>

            </a>

        </div>
        <div class="w-100 text-center mb-5">
            <a class="btn bg-main text-white" [routerLink]="['/SubCatgcory',subCategoriesID]">see More </a>
        </div>
    </div>

</div>



<div class="container">
    <div class="row">
        <h1 class="text-center">product</h1>

        <div class="alert alert-danger w-100 text-center h2 " *ngIf="products.length == 0;">Dont Have eny
            Product
        </div>
        
            <div *ngFor="let product of products|search:searchterm" class="col-md-3 position-relative">
                <div class="product rounded px-2 py-4">
                    <a class="" [routerLink]="['/productsdetails',product._id]">

                        <div class="text-center">
                            <img [src]="product?.mainImage?.secure_url" onerror="this.src='assets/error.svg';"
                                class="w-75 " height="150" alt="">
                        </div>


                        <span class="ps-3 text-main fw-bold font-sm">{{product?.name}} </span>
                        <span class="ps-3 text-main fw-bold font-sm">{{product?.description}} </span>

                        <div class="">
                            <div class="ps-3">
                                <i class="fa-solid fa-star rating-color"></i>
                                <i class="fa-solid fa-star rating-color"></i>
                                <i class="fa-solid fa-star rating-color"></i>

                            </div>

                            <div class="row text-center gx-0 d-flex justify-content-center align-items-center ">
                                <div class="col-md-4"> <span class="font-sm fw-bold">{{product.finalPrice}}EGP</span>
                                </div>
                                <div class="col-md-3  text-secondary "> <del
                                        class="font-sm  fw-bold">{{product.price}}</del></div>
                                <div class="col-md-4  m-0 p-0   rounded">
                                    <div class="font-sm fw-bold alert alert-danger m-0  p-0 ">-:{{product.discound}}%
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <button class="btn bg-main text-white w-100 my-2" (click)="getCart(product._id)">+ Add</button>

                </div>
            </div>
            <div class="w-100 text-center my-2">
                <a class="btn bg-main text-white" [routerLink]="['/productByCategoryId',subCategoriesID]">See More</a>
            </div>
        


    </div>
</div>